import 'dotenv/config'; import e from "express"; import { dirname as r } from "path"; import s from "body-parser"; import { fileURLToPath as o } from "url"; let scoreboard; let __dirname = r(o(import.meta.url)), app = e(), PORT = 4e3,  users = [], firstPerson, secondPerson, ScoreBoard; function sort() {
  ScoreBoard = users.sort(({ Score: scoreA }, { Score: scoreB }) => scoreB - scoreA);
  console.log(ScoreBoard);
} app.set("view engine", "ejs"), app.use(s.urlencoded({ extended: !0 })), app.use(e.static(__dirname + "/views/")), app.get("/", (e, r) => { firstPerson && secondPerson ? r.send("<h1 style= 'text-align: center';>Game is on</h1>") : r.render("login") }), app.get("/get", (e, r) => { console.log(e) }), app.post("/", (e, r) => { let s = 0; firstPerson ? secondPerson ? (firstPerson = "", secondPerson = "") : (secondPerson = e.body.name, r.render("index", { name: secondPerson, TT: s })) : (firstPerson = e.body.name, r.render("index", { name: firstPerson, TT: s })) }), app.get("/result", (e, r) => { r.render("scoreboard", { users: users }) }), app.post("/A", (e, r) => { let s = e.body.N, o = e.body.S; users.push({ name: e.body.N, Score: e.body.S }), users.length % 2 == 0 && users.length <= 8 ? (firstPerson = "", secondPerson = "") : sort(), r.render("result", { name: s, score: o }) }), app.listen(process.env.PORT || 4000, () => { console.log(`Server is started on port ${PORT}`) });